<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LIVE_THREAT_MAP_SIM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg: #050608;
  --grid: rgba(255,255,255,0.03);
  --green: #3fb950;
  --red: #ff4d4d;
  --orange: #ff9f43;
  --blue: #58a6ff;
  --text: #c9d1d9;
  --muted: #8b949e;
}

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: "JetBrains Mono", monospace;
}

/* HEADER */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #30363d;
}

.header span {
  color: var(--green);
  font-size: 12px;
}

/* MAP */
.map-container {
  position: relative;
  height: 70vh;
  background-image: url("/assets/world.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  overflow: hidden;
}

/* GRID OVERLAY */
.map-container::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(var(--grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid) 1px, transparent 1px);
  background-size: 40px 40px;
  pointer-events: none;
}

/* ATTACK ELEMENTS */
.attack {
  position: absolute;
  width: 6px;
  height: 6px;
  background: var(--blue);
  border-radius: 50%;
}

.beam {
  position: absolute;
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    var(--red),
    var(--red) 6px,
    transparent 6px,
    transparent 12px
  );
  transform-origin: left center;
  animation: beam 1.2s linear forwards;
}

@keyframes beam {
  from { width: 0; opacity: 1; }
  to { width: 100%; opacity: 0; }
}

/* LOG PANEL */
.log-panel {
  height: 200px;
  overflow-y: auto;
  padding: 15px 20px;
  border-top: 1px solid #30363d;
  background: #020203;
  font-size: 12px;
}

.log {
  color: var(--red);
  margin-bottom: 4px;
}
</style>
</head>

<body>

<div class="header">
  <div>[LIVE_THREAT_MAP_SIM]</div>
  <span>● ACTIVE_FEED</span>
</div>

<div class="map-container" id="map"></div>

<div class="log-panel" id="logs"></div>

<script>
const map = document.getElementById("map");
const logs = document.getElementById("logs");

const countries = [
  "USA","Russia","China","Turkey","Germany","France",
  "Brazil","India","UK","Japan","Iran","Ukraine","Poland","Israel"
];

const attacks = [
  "DDoS","Brute Force","Ransomware",
  "SQL Injection","Credential Stuffing",
  "Port Scanning","Data Exfiltration"
];

function rand(min,max){ return Math.random()*(max-min)+min; }

function attack() {
  const x1 = rand(10,90);
  const y1 = rand(15,85);
  const x2 = rand(10,90);
  const y2 = rand(15,85);

  const a = document.createElement("div");
  a.className = "attack";
  a.style.left = x1 + "%";
  a.style.top = y1 + "%";

  const b = document.createElement("div");
  b.className = "attack";
  b.style.left = x2 + "%";
  b.style.top = y2 + "%";
  b.style.background = "var(--red)";

  const beam = document.createElement("div");
  beam.className = "beam";

  const dx = x2 - x1;
  const dy = y2 - y1;
  const length = Math.sqrt(dx*dx + dy*dy);

  beam.style.left = x1 + "%";
  beam.style.top = y1 + "%";
  beam.style.width = length + "%";
  beam.style.transform = `rotate(${Math.atan2(dy,dx)}rad)`;

  map.append(a,b,beam);

  const log = document.createElement("div");
  log.className = "log";
  log.textContent =
    `[${new Date().toLocaleTimeString()}] ` +
    `${attacks[Math.floor(Math.random()*attacks.length)]} | ` +
    `${countries[Math.floor(Math.random()*countries.length)]} → ` +
    `${countries[Math.floor(Math.random()*countries.length)]}`;
  logs.prepend(log);

  setTimeout(()=>{ a.remove(); b.remove(); beam.remove(); },1300);
}

setInterval(attack, 900);
</script>

</body>
</html>
