<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>LIVE_THREAT_MAP_SIM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg:#050608;
  --grid:rgba(255,255,255,.04);
  --green:#3fb950;
  --red:#ff4d4d;
  --blue:#58a6ff;
  --text:#c9d1d9;
}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:JetBrains Mono, monospace;
}

/* HEADER */
.header{
  display:flex;
  justify-content:space-between;
  padding:16px 24px;
  border-bottom:1px solid #30363d;
}
.header span{color:var(--green);font-size:12px}

/* MAP */
.map-wrap{
  position:relative;
  height:70vh;
  overflow:hidden;
}

/* WORLD SVG */
.map-wrap img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
  opacity:.9;
  z-index:1;
}

/* GRID OVERLAY */
.map-wrap::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(var(--grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid) 1px, transparent 1px);
  background-size:40px 40px;
  z-index:3;
  pointer-events:none;
}

/* ATTACKS */
.attack{
  position:absolute;
  width:6px;height:6px;
  background:var(--blue);
  border-radius:50%;
  z-index:4;
}
.beam{
  position:absolute;
  height:2px;
  background:repeating-linear-gradient(
    90deg,
    var(--red),
    var(--red) 6px,
    transparent 6px,
    transparent 12px
  );
  transform-origin:left center;
  animation:beam 1.2s linear forwards;
  z-index:4;
}

@keyframes beam{
  from{width:0;opacity:1}
  to{width:100%;opacity:0}
}

/* LOG */
.log-panel{
  height:200px;
  background:#020203;
  border-top:1px solid #30363d;
  padding:14px 20px;
  overflow-y:auto;
  font-size:12px;
}
.log{color:var(--red);margin-bottom:4px}
</style>
</head>

<body>

<div class="header">
  <div>[LIVE_THREAT_MAP_SIM]</div>
  <span>● ACTIVE_FEED</span>
</div>

<div class="map-wrap" id="map">
  <!-- ⚠️ SVG BURADA -->
  <img src="assets/world.svg" alt="world map">
</div>

<div class="log-panel" id="logs"></div>

<script>
const map=document.getElementById("map");
const logs=document.getElementById("logs");

const countries=[
 "USA","Russia","China","Turkey","Germany","France",
 "Brazil","India","UK","Japan","Iran","Ukraine","Poland","Israel"
];

const attacks=[
 "DDoS","Ransomware","Brute Force",
 "SQL Injection","Port Scan","Data Exfiltration"
];

const rand=(a,b)=>Math.random()*(b-a)+a;

function spawn(){
  const x1=rand(10,90), y1=rand(15,85);
  const x2=rand(10,90), y2=rand(15,85);

  const a=document.createElement("div");
  const b=document.createElement("div");
  const beam=document.createElement("div");

  a.className=b.className="attack";
  b.style.background="var(--red)";
  beam.className="beam";

  a.style.left=x1+"%"; a.style.top=y1+"%";
  b.style.left=x2+"%"; b.style.top=y2+"%";

  const dx=x2-x1, dy=y2-y1;
  beam.style.left=x1+"%";
  beam.style.top=y1+"%";
  beam.style.transform=`rotate(${Math.atan2(dy,dx)}rad)`;
  beam.style.width=Math.sqrt(dx*dx+dy*dy)+"%";

  map.append(a,b,beam);

  const log=document.createElement("div");
  log.className="log";
  log.textContent=
   `[${new Date().toLocaleTimeString()}] `+
   `${attacks[Math.random()*attacks.length|0]} | `+
   `${countries[Math.random()*countries.length|0]} → `+
   `${countries[Math.random()*countries.length|0]}`;
  logs.prepend(log);

  setTimeout(()=>{a.remove();b.remove();beam.remove()},1300);
}

setInterval(spawn,900);
</script>

</body>
</html>
